{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/91932/Desktop/AWTP/hostel-admission-management-system-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/91932/Desktop/AWTP/hostel-admission-management-system-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/91932/Desktop/AWTP/hostel-admission-management-system-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../styles/studentadmission.css\";import axios from\"axios\";import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function StudentAdmission(){var userName=window.localStorage.getItem(\"userName\");var navigate2=useNavigate();var formData={rollNumber:\"\"};var _useState=useState({rollNumber:\"\"}),_useState2=_slicedToArray(_useState,2),loginData=_useState2[0],setLoginData=_useState2[1];useEffect(function(){var fetchAllCredentials=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:8800/check\");case 3:res=_context.sent;setLoginData(res.data);// console.log(loginData)\n// console.log(res.data)\n_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchAllCredentials(){return _ref.apply(this,arguments);};}();fetchAllCredentials();},[]);var check=false;var i=0;if(loginData[i]){for(i=0;i<loginData.length;i++){if(loginData[i][\"RollNumber\"]==window.localStorage.getItem(\"userName\")){check=true;}}}var handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();formData.rollNumber=userName;try{axios.post(\"http://localhost:8800/apply\",formData);navigate2(\"/admissioncheck\");console.log(userName);}catch(err){console.log(err);}case 3:case\"end\":return _context2.stop();}},_callee2);}));return function handleClick(_x){return _ref2.apply(this,arguments);};}();var handleClick2=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:e.preventDefault();navigate2(\"/admissioncheck\");case 2:case\"end\":return _context3.stop();}},_callee3);}));return function handleClick2(_x2){return _ref3.apply(this,arguments);};}();if(check){return/*#__PURE__*/_jsx(\"div\",{id:\"studentA-container\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"studentA\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Apply For Admission!\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Dear \",userName,\", You have already applied for admission.\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick2,children:\"Check Application Status\"})]})});}else{return/*#__PURE__*/_jsx(\"div\",{id:\"studentA-container\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"studentA\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Apply For Admission!\"}),/*#__PURE__*/_jsxs(\"p\",{children:[userName,\" If you want to proceed with your application to apply for admission, please click the button below:\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,children:\"Apply!\"})]})});}}export default StudentAdmission;","map":{"version":3,"names":["axios","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","StudentAdmission","userName","window","localStorage","getItem","navigate2","formData","rollNumber","_useState","_useState2","_slicedToArray","loginData","setLoginData","fetchAllCredentials","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","sent","data","t0","console","log","stop","apply","arguments","check","i","length","handleClick","_ref2","_callee2","e","_callee2$","_context2","preventDefault","post","err","_x","handleClick2","_ref3","_callee3","_callee3$","_context3","_x2","id","children","onClick"],"sources":["C:/Users/91932/Desktop/AWTP/hostel-admission-management-system-main/client/src/components/StudentAdmission.jsx"],"sourcesContent":["import \"../styles/studentadmission.css\"\nimport axios from \"axios\";\nimport { useState, useEffect} from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nfunction StudentAdmission() {\n    const userName = window.localStorage.getItem(\"userName\")\n    const navigate2 = useNavigate()\n    var formData = {\n      rollNumber: \"\"\n    }\n    const [loginData, setLoginData] = useState({\n      rollNumber: \"\"\n    });\n  useEffect(()=>{\n      const fetchAllCredentials = async () => {\n        try{\n          const res = await axios.get(\"http://localhost:8800/check\")\n          setLoginData(res.data)\n          // console.log(loginData)\n          // console.log(res.data)\n        }\n        catch(err){\n          console.log(err)\n        }\n      };\n      fetchAllCredentials();\n    },[])\n    var check = false;\n    var i=0;\n    if(loginData[i]){\n      for (i=0; i<loginData.length; i++){\n        if (loginData[i][\"RollNumber\"]==window.localStorage.getItem(\"userName\")) {\n            check = true\n        }\n      }\n    }\n    const handleClick = async e=>{\n      e.preventDefault()\n      formData.rollNumber = userName\n      try{\n        axios.post(\"http://localhost:8800/apply\", formData);\n        navigate2(\"/admissioncheck\")\n        console.log(userName)\n      }\n      catch(err){\n        console.log(err)\n      }\n    }\n    const handleClick2 = async e=>{\n      e.preventDefault()\n      navigate2(\"/admissioncheck\")\n    }\n    if (check) {\n      return (   \n        <div id=\"studentA-container\">\n            <div id=\"studentA\">\n                <h1>Apply For Admission!</h1>\n                <p>Dear {userName}, You have already applied for admission.</p>\n                <button onClick={handleClick2}>Check Application Status</button>\n            </div>\n        </div>\n    )\n    }\n    else{\n      return (   \n        <div id=\"studentA-container\">\n            <div id=\"studentA\">\n                <h1>Apply For Admission!</h1>\n                <p>{userName} If you want to proceed with your application to apply for admission, please click the button below:</p>\n                <button onClick={handleClick}>Apply!</button>\n            </div>\n        </div>\n    )\n    }\n}\n\nexport default StudentAdmission;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}