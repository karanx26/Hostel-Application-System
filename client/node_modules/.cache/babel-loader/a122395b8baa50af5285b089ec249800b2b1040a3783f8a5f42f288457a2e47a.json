{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91932\\\\Desktop\\\\AWTP\\\\hostel-admission-management-system-main\\\\client\\\\src\\\\components\\\\LoginForm.jsx\",\n  _s = $RefreshSig$();\nimport '../styles/loginform.css';\nimport { useEffect, useState } from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginForm() {\n  _s();\n  const [lformData, setFormData] = useState({\n    userName: \"\",\n    password: \"\"\n  });\n  const [loginData, setLoginData] = useState([]);\n  useEffect(() => {\n    const fetchAllCredentials = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:8800/credentials\");\n        setLoginData(res.data);\n        console.log(res);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchAllCredentials();\n  }, []);\n  const validate = (formData, loginData) => {\n    if (formData.userName === \"admin\" && formData.password === \"admin\") {\n      window.localStorage.setItem(\"adminUser\", true);\n      window.localStorage.setItem(\"isLoggedIn\", true);\n      window.localStorage.setItem(\"userName\", formData.userName);\n      return;\n    }\n    if (!formData.userName) {\n      alert(\"Username is required\");\n      return;\n    }\n    var check = 0;\n    var temp = 0;\n    for (var i = 0; i < loginData.length; i++) {\n      if (formData.userName !== loginData[i]['RollNumber']) {\n        check = 0;\n      }\n      check = 1;\n      temp = i;\n    }\n    if (check === 0) {\n      alert(\"Invalid Username\");\n      return;\n    }\n    if (!formData.password) {\n      alert(\"Password is required!\");\n      return;\n    }\n    if (formData.password !== loginData[temp]['Password']) {\n      alert(\"Wrong Password\");\n      return;\n    }\n    window.localStorage.setItem(\"adminUser\", false);\n    window.localStorage.setItem(\"isLoggedIn\", true);\n    window.localStorage.setItem(\"userName\", formData.userName);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"login-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Hostel Management System\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Email or Phone\",\n        id: \"username\",\n        value: lformData.userName,\n        onChange: e => setFormData({\n          ...lformData,\n          userName: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        id: \"password\",\n        value: lformData.password,\n        onChange: e => setFormData({\n          ...lformData,\n          password: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"loginPage\",\n        onClick: () => {\n          {\n            validate(lformData, loginData);\n          }\n          ;\n        },\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n_s(LoginForm, \"gCtcM8GZnbobWppdHjV8b7aqu+k=\");\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["useEffect","useState","axios","jsxDEV","_jsxDEV","LoginForm","_s","lformData","setFormData","userName","password","loginData","setLoginData","fetchAllCredentials","res","get","data","console","log","err","validate","formData","window","localStorage","setItem","alert","check","temp","i","length","id","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","className","onClick","_c","$RefreshReg$"],"sources":["C:/Users/91932/Desktop/AWTP/hostel-admission-management-system-main/client/src/components/LoginForm.jsx"],"sourcesContent":["import '../styles/loginform.css'\nimport { useEffect, useState } from \"react\";\nimport axios from 'axios'\nfunction LoginForm() {\n    const [lformData, setFormData] = useState({\n        userName: \"\",\n        password: \"\",\n      });\n    const [loginData, setLoginData] = useState([])\n    useEffect(()=>{\n      const fetchAllCredentials = async () => {\n        try{\n          const res = await axios.get(\"http://localhost:8800/credentials\")\n          setLoginData(res.data)\n          console.log(res)\n        }\n        catch(err){\n          console.log(err)\n        }\n      };\n      fetchAllCredentials();\n    },[])\n\n    const validate = (formData, loginData) => {\n        if(formData.userName === \"admin\" && formData.password === \"admin\"){\n          window.localStorage.setItem(\"adminUser\", true)\n          window.localStorage.setItem(\"isLoggedIn\", true)\n          window.localStorage.setItem(\"userName\", formData.userName)\n          return\n        }\n        if (!formData.userName) {\n          alert(\"Username is required\")\n          return\n        }\n        var check =0;\n        var temp = 0;\n        for (var i=0; i<loginData.length; i++){\n          if (formData.userName !== loginData[i]['RollNumber']) {\n            check = 0;\n          }\n            check = 1;\n            temp = i;\n        }\n        if (check === 0) {\n          alert(\"Invalid Username\")\n          return\n        }\n        if (!formData.password) {\n          alert(\"Password is required!\")\n          return\n        } \n        if (formData.password !== loginData[temp]['Password']) {\n            alert(\"Wrong Password\")\n            return\n        }\n        window.localStorage.setItem(\"adminUser\", false)\n        window.localStorage.setItem(\"isLoggedIn\", true)\n        window.localStorage.setItem(\"userName\", formData.userName)\n    };\n\n    return (\n        <div id='login-wrapper'>\n                <form>\n                    <h2>Hostel Management System</h2>\n                    <label>Username</label>\n                    <input type=\"text\" placeholder=\"Email or Phone\" id=\"username\" value={lformData.userName} onChange={(e) => setFormData({ ...lformData, userName: e.target.value })}/>\n                    <label>Password</label>\n                    <input type=\"password\" placeholder=\"Password\" id=\"password\"value={lformData.password} onChange={(e) => setFormData({ ...lformData, password: e.target.value })}/>\n                    <button className=\"loginPage\" onClick={() => {{validate(lformData,loginData)};}}>Log In</button>\n                </form>\n        </div>\n    );\n}\n\n\nexport default LoginForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}