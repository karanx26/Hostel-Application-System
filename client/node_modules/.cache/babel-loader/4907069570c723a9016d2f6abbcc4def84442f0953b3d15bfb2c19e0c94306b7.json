{"ast":null,"code":"import _objectSpread from\"C:/Users/91932/Desktop/AWTP/hostel-admission-management-system-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/91932/Desktop/AWTP/hostel-admission-management-system-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/91932/Desktop/AWTP/hostel-admission-management-system-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/91932/Desktop/AWTP/hostel-admission-management-system-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignupForm=function SignupForm(_ref){var page=_ref.page,setPage=_ref.setPage,formData=_ref.formData,setFormData=_ref.setFormData;// grabbing the props\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),rollNumbers=_useState2[0],setRollNumbers=_useState2[1];useEffect(function(){var fetchAllEligibles=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:8800/eligibles\");case 3:res=_context.sent;setRollNumbers(res.data);console.log(res);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function fetchAllEligibles(){return _ref2.apply(this,arguments);};}();fetchAllEligibles();},[]);var validate=function validate(formData,page,setPage,rollNumbers){var regex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;if(!formData.rollNumber){alert(\"Roll Number is required\");return;}// var check =0;\n// for (var i=0; i<rollNumbers.length; i++){\n//   if (formData.rollNumber !== rollNumbers[i]['RollNumber']) {\n//     console.log(rollNumbers[0])\n//     check = 0;\n//   }\n//   else{\n//     check = 1;\n//   }\n// }\n// if (check == 0) {\n//   alert(\"No Record found for the entered Roll Number\")\n//   return\n// }\nif(!formData.email){alert(\"Email is required!\");return;}else if(!regex.test(formData.email)){alert(\"Invalid Email Format\");return;}if(!formData.password||!(formData.password.length>=9)){alert(\"Password is Required\");return;}else{setPage(page+1);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"SignUp\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Roll Number\",value:formData.rollNumber//setting the value of the form to the props value\n,onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},{rollNumber:e.target.value}));}//setting the formData to the value input of the textfield \n}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",value:formData.email,onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:formData.password,onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},{password:e.target.value}));}}),/*#__PURE__*/_jsx(\"div\",{className:\"firstButton\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){{validate(formData,page,setPage,rollNumbers);};},children:\"Next\"})})]});};export default SignupForm;","map":{"version":3,"names":["useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","SignupForm","_ref","page","setPage","formData","setFormData","_useState","_useState2","_slicedToArray","rollNumbers","setRollNumbers","fetchAllEligibles","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","sent","data","console","log","t0","stop","apply","arguments","validate","regex","rollNumber","alert","email","test","password","length","className","children","type","placeholder","value","onChange","e","_objectSpread","target","onClick"],"sources":["C:/Users/91932/Desktop/AWTP/hostel-admission-management-system-main/client/src/components/SignupForm.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from 'axios'\n\nconst SignupForm = ({ page, setPage, formData, setFormData }) => {  // grabbing the props\n  const [rollNumbers, setRollNumbers] = useState([])\n    useEffect(()=>{\n      const fetchAllEligibles = async () => {\n        try{\n          const res = await axios.get(\"http://localhost:8800/eligibles\")\n          setRollNumbers(res.data)\n          console.log(res)\n        }\n        catch(err){\n          console.log(err)\n        }\n      };\n      fetchAllEligibles();\n    },[])\n  const validate = (formData, page, setPage, rollNumbers) => {\n    const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;\n    if (!formData.rollNumber) {\n      alert(\"Roll Number is required\")\n      return\n    }\n    // var check =0;\n    // for (var i=0; i<rollNumbers.length; i++){\n    //   if (formData.rollNumber !== rollNumbers[i]['RollNumber']) {\n    //     console.log(rollNumbers[0])\n    //     check = 0;\n    //   }\n    //   else{\n    //     check = 1;\n    //   }\n    // }\n    // if (check == 0) {\n    //   alert(\"No Record found for the entered Roll Number\")\n    //   return\n    // }\n    if (!formData.email) {\n      alert(\"Email is required!\")\n      return\n    } \n    else if (!regex.test(formData.email)) {\n      alert(\"Invalid Email Format\")\n      return\n    }\n    if(!formData.password || !(formData.password.length >= 9)){\n      alert(\"Password is Required\")\n      return\n    }\n    else{\n      setPage(page + 1);\n    }\n  };\n  return (\n      <div className=\"card\">\n        <h1>SignUp</h1>\n        <input\n          type=\"text\"\n          placeholder=\"Roll Number\"\n          value={formData.rollNumber} //setting the value of the form to the props value\n          onChange={(e) =>\n            setFormData({ ...formData, rollNumber: e.target.value })  //setting the formData to the value input of the textfield \n          }\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Email\"\n          value={formData.email}\n          onChange={(e) =>\n            setFormData({ ...formData, email: e.target.value }) \n          }\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={formData.password}\n          onChange={(e) =>\n            setFormData({ ...formData, password: e.target.value })\n          }\n        />\n        <div className=\"firstButton\">\n        <button\n          onClick={() => {\n            {validate(formData,page,setPage, rollNumbers)};\n          }}>\n          Next\n        </button>\n        </div>\n      </div>\n    );\n  };\n  \n  export default SignupForm;"],"mappings":"+oBAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzB,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAAC,IAAA,CAAiD,IAA3C,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,QAAQ,CAAAH,IAAA,CAARG,QAAQ,CAAEC,WAAW,CAAAJ,IAAA,CAAXI,WAAW,CAAU;AAClE,IAAAC,SAAA,CAAsCZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAChCd,SAAS,CAAC,UAAI,CACZ,GAAM,CAAAkB,iBAAiB,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,GAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEJ,CAAA3B,KAAK,CAAC4B,GAAG,CAAC,iCAAiC,CAAC,QAAxDN,GAAG,CAAAG,QAAA,CAAAI,IAAA,CACTd,cAAc,CAACO,GAAG,CAACQ,IAAI,CAAC,CACxBC,OAAO,CAACC,GAAG,CAACV,GAAG,CAAC,CAAAG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAQ,EAAA,CAAAR,QAAA,aAGhBM,OAAO,CAACC,GAAG,CAAAP,QAAA,CAAAQ,EAAA,CAAK,0BAAAR,QAAA,CAAAS,IAAA,MAAAb,OAAA,gBAEnB,kBATK,CAAAL,iBAAiBA,CAAA,SAAAC,KAAA,CAAAkB,KAAA,MAAAC,SAAA,OAStB,CACDpB,iBAAiB,EAAE,CACrB,CAAC,CAAC,EAAE,CAAC,CACP,GAAM,CAAAqB,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAI5B,QAAQ,CAAEF,IAAI,CAAEC,OAAO,CAAEM,WAAW,CAAK,CACzD,GAAM,CAAAwB,KAAK,CAAG,gCAAgC,CAC9C,GAAI,CAAC7B,QAAQ,CAAC8B,UAAU,CAAE,CACxBC,KAAK,CAAC,yBAAyB,CAAC,CAChC,OACF,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAI,CAAC/B,QAAQ,CAACgC,KAAK,CAAE,CACnBD,KAAK,CAAC,oBAAoB,CAAC,CAC3B,OACF,CAAC,IACI,IAAI,CAACF,KAAK,CAACI,IAAI,CAACjC,QAAQ,CAACgC,KAAK,CAAC,CAAE,CACpCD,KAAK,CAAC,sBAAsB,CAAC,CAC7B,OACF,CACA,GAAG,CAAC/B,QAAQ,CAACkC,QAAQ,EAAI,EAAElC,QAAQ,CAACkC,QAAQ,CAACC,MAAM,EAAI,CAAC,CAAC,CAAC,CACxDJ,KAAK,CAAC,sBAAsB,CAAC,CAC7B,OACF,CAAC,IACG,CACFhC,OAAO,CAACD,IAAI,CAAG,CAAC,CAAC,CACnB,CACF,CAAC,CACD,mBACIH,KAAA,QAAKyC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB5C,IAAA,OAAA4C,QAAA,CAAI,QAAM,EAAK,cACf5C,IAAA,UACE6C,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,aAAa,CACzBC,KAAK,CAAExC,QAAQ,CAAC8B,UAAY;AAAA,CAC5BW,QAAQ,CAAE,SAAAA,SAACC,CAAC,QACV,CAAAzC,WAAW,CAAA0C,aAAA,CAAAA,aAAA,IAAM3C,QAAQ,MAAE8B,UAAU,CAAEY,CAAC,CAACE,MAAM,CAACJ,KAAK,GAAG,EAAE;AAC3D,EACD,cACF/C,IAAA,UACE6C,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,OAAO,CACnBC,KAAK,CAAExC,QAAQ,CAACgC,KAAM,CACtBS,QAAQ,CAAE,SAAAA,SAACC,CAAC,QACV,CAAAzC,WAAW,CAAA0C,aAAA,CAAAA,aAAA,IAAM3C,QAAQ,MAAEgC,KAAK,CAAEU,CAAC,CAACE,MAAM,CAACJ,KAAK,GAAG,EACpD,EACD,cACF/C,IAAA,UACE6C,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAExC,QAAQ,CAACkC,QAAS,CACzBO,QAAQ,CAAE,SAAAA,SAACC,CAAC,QACV,CAAAzC,WAAW,CAAA0C,aAAA,CAAAA,aAAA,IAAM3C,QAAQ,MAAEkC,QAAQ,CAAEQ,CAAC,CAACE,MAAM,CAACJ,KAAK,GAAG,EACvD,EACD,cACF/C,IAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC5B5C,IAAA,WACEoD,OAAO,CAAE,SAAAA,QAAA,CAAM,CACb,CAACjB,QAAQ,CAAC5B,QAAQ,CAACF,IAAI,CAACC,OAAO,CAAEM,WAAW,CAAC,EAAC,CAChD,CAAE,CAAAgC,QAAA,CAAC,MAEL,EAAS,EACH,GACF,CAEV,CAAC,CAED,cAAe,CAAAzC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}