{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91932\\\\Desktop\\\\AWTP\\\\hostel-admission-management-system-main\\\\client\\\\src\\\\components\\\\AdminAdmission.jsx\",\n  _s = $RefreshSig$();\nimport \"../styles/adminadmission.css\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminAdmission() {\n  _s();\n  var tmp;\n  var username = {\n    rollNumber: tmp\n  };\n  var approval = {};\n  const [approvals, setApprovals] = useState([]);\n  const [text, setText] = useState([]);\n  const [formData, setFormData] = useState({\n    rollNumber: \"\"\n  });\n  useEffect(() => {\n    const fetchAllCredentials = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:8800/checkApprove\");\n        approval = res.data;\n        console.log(approval);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchAllCredentials();\n  }, []);\n  var check = false;\n  var temp = 0;\n  const validate = () => {\n    username.rollNumber = tmp;\n    for (var i = 0; i < approval.length; i++) {\n      if (approval[i][\"RollNumber\"] == username.rollNumber) {\n        check = true;\n        temp = i;\n      }\n    }\n    if (check) {\n      var ap = approval[temp][\"isAccepted\"];\n      console.log(typeof ap);\n      if (approval[temp][\"isAccepted\"] == 1) {\n        setText(\"This application has already been approved.\");\n      } else {\n        try {\n          console.log(username.rollNumber);\n          axios.post(\"http://localhost:8800/approve\", username);\n          axios.post(\"http://localhost:8800/sendEmail\", approval[temp]);\n          // alert(username.rollNumber)\n          setText(\"The application has been approved successfully.\");\n        } catch (err) {\n          console.log(err);\n        }\n      }\n    }\n  };\n  const handleChange = event => {\n    tmp = event.target.value;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"adminAd-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"adminAd\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Admission Approval\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"adContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Enter Roll Number:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"rollNumber\",\n          type: \"text\",\n          value: tmp,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: validate,\n          children: \"Approve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminAdmission, \"MeSuXuJpyzynbIKb/UHzpsxXuB8=\");\n_c = AdminAdmission;\nexport default AdminAdmission;\nvar _c;\n$RefreshReg$(_c, \"AdminAdmission\");","map":{"version":3,"names":["useEffect","useState","axios","jsxDEV","_jsxDEV","AdminAdmission","_s","tmp","username","rollNumber","approval","approvals","setApprovals","text","setText","formData","setFormData","fetchAllCredentials","res","get","data","console","log","err","check","temp","validate","i","length","ap","post","handleChange","event","target","value","id","children","fileName","_jsxFileName","lineNumber","columnNumber","className","name","type","onChange","onClick","_c","$RefreshReg$"],"sources":["C:/Users/91932/Desktop/AWTP/hostel-admission-management-system-main/client/src/components/AdminAdmission.jsx"],"sourcesContent":["import \"../styles/adminadmission.css\"\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction AdminAdmission() {\n    var tmp;\n    var username = {\n        rollNumber:tmp,\n    }\n    var approval = {};\n    const [approvals,setApprovals] = useState([])\n    const [text,setText] = useState([])\n    const [formData, setFormData] = useState({\n        rollNumber: \"\"\n      });\n    useEffect(()=>{\n        const fetchAllCredentials = async () => {\n          try{\n            const res = await axios.get(\"http://localhost:8800/checkApprove\")\n            approval = res.data\n            console.log(approval)\n          }\n          catch(err){\n            console.log(err)\n          }\n        };\n        fetchAllCredentials();\n      },[])\n    var check = false;\n    var temp = 0\n    const validate = () => {\n        username.rollNumber=tmp\n        for(var i=0; i<approval.length; i++){\n            if (approval[i][\"RollNumber\"]==username.rollNumber) {\n                check = true;\n                temp = i;\n            }\n        }\n        if (check) {\n            var ap = approval[temp][\"isAccepted\"];\n            console.log(typeof(ap))\n            if (approval[temp][\"isAccepted\"]==1) {\n                setText(\"This application has already been approved.\")\n            }\n            else{\n                try{\n                    console.log(username.rollNumber)\n                    axios.post(\"http://localhost:8800/approve\", username);\n                    axios.post(\"http://localhost:8800/sendEmail\", approval[temp])\n                    // alert(username.rollNumber)\n                    setText(\"The application has been approved successfully.\")\n                  }\n                  catch(err){\n                    console.log(err)\n                  }\n            }\n        }\n    }\n    const handleChange = (event) => {\n        tmp = event.target.value;\n      };\n    return (   \n        <div id=\"adminAd-container\">\n            <div id=\"adminAd\">\n                <h1>Admission Approval</h1>\n                <div className=\"adContainer\">\n                    <label>Enter Roll Number:</label>\n                    <input name=\"rollNumber\" type={\"text\"} value={tmp} onChange={handleChange}/>\n                    <button onClick={validate}>Approve</button>\n                    <p>{text}</p>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default AdminAdmission;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}